(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>p});const r=require("k6"),s=require("k6/http");var o=e.n(s);class a{static getBaseUrl(){return"http://localhost:3000/api"}}class n{#e;access(e,t){let s=o().post(`${a.getBaseUrl()}/login`,JSON.stringify({username:e,password:t}),{headers:{"Content-Type":"application/json",Accept:"application/json"}});this.#e=s.json("accessToken"),(0,r.check)(s,{"status deve ser 201":e=>201===e.status})}getToken(){return this.#e}}const c=JSON.parse('{"p":{"k":"admin","I":"admin"}}');class i{list(e){let t=o().get(`${a.getBaseUrl()}/users`,{headers:{Authorization:`Bearer ${e}`}});return(0,r.check)(t,{"listagem deve retornar 200":e=>200===e.status}),t}}class l{create(e,t){let s=o().post(`${a.getBaseUrl()}/products`,JSON.stringify(t),{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return(0,r.check)(s,{"produto deve ser criado com sucesso":e=>201===e.status}),s}}function p(){let e=new n,t=new i;new l,(0,r.group)("login and get token",()=>{e.access(c.p.k,c.p.I)}),(0,r.group)("list users",()=>{t.list(e.getToken())}),(0,r.group)("create product",()=>{let t=new l,r=e.getToken();t.create(r,{description:"Smartphone Samsung Galaxy",itemPrice:1200,name:"Galaxy S23"})})}var u=exports;for(var d in t)u[d]=t[d];t.__esModule&&Object.defineProperty(u,"__esModule",{value:!0})})();