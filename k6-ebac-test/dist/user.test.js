(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>c,options:()=>u});const r=require("k6/http");var s=e.n(r);const o=require("k6");class a{static getBaseUrl(){return"http://localhost:3000/api"}}class n{#e;access(e,t){let r=s().post(`${a.getBaseUrl()}/login`,JSON.stringify({username:e,password:t}),{headers:{"Content-Type":"application/json",Accept:"application/json"}});this.#e=r.json("accessToken"),(0,o.check)(r,{"status deve ser 201":e=>201===e.status})}getToken(){return this.#e}}const i=JSON.parse('{"p":{"k":"admin","I":"admin"}}');class l{list(e){let t=s().get(`${a.getBaseUrl()}/users`,{headers:{Authorization:`Bearer ${e}`}});return(0,o.check)(t,{"listagem deve retornar 200":e=>200===e.status}),t}}const u={stages:[{duration:"10s",target:10},{duration:"5s",target:50},{duration:"10s",target:10},{duration:"5s",target:0}],thresholds:{http_req_duration:["p(99) < 1000"]}};function c(){let e=new n,t=new l;(0,o.group)("login and get token",()=>{e.access(i.p.k,i.p.I)}),(0,o.group)("list users",()=>{t.list(e.getToken())})}var d=exports;for(var p in t)d[p]=t[p];t.__esModule&&Object.defineProperty(d,"__esModule",{value:!0})})();